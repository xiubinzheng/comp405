<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="MyTime" basedir="." name="Create Runnable Jar for Project SoftwareEngineering with libraries in sub-folder">	
	
	<typedef resource="org/tigris/subversion/svnant/svnantlib.xml" classpath="svnant.jar"/>	
	<target name="MyTime" depends = "create_run_jar">
		<description>Main target</description>
	</target> 

	<target name="create_run_jar" depends = "jdoc">
	        <jar destfile="./MyTime/dist/runnable.jar">
	            <manifest>
	                <attribute name="Main-Class" value="gui.MainGUI"/>
	                <attribute name="Class-Path" value=" ./sqlitejdbc-v056.jar "/>
	            </manifest>
	            <fileset dir="./MyTime/bin"/>
	        </jar>
	        <mkdir dir="./MyTime/dist"/>
	        <copy file="./lib/sqlitejdbc-v056.jar" todir="./MyTime/dist/"/>
	        <copy file="./lib/myTimeDB.s3db" todir="./MyTime/dist/"/>
			<copy file="./lib/junit.jar" todir="./MyTime/dist/"/>
	    </target>
		
	
	<target name="jdoc" depends = "javac">
			<javadoc 
	            sourcepath="./MyTime/src"
	            destdir="./MyTime/javadoc"
	            classpath="./lib/junit.jar"
			/>
		</target>
		
	 
	<target name="javac" depends="checkout"> 
		<javac
			srcdir="./MyTime/src"
	         destdir="./MyTime/bin"
	         classpath="./lib/junit.jar"
	         
	  />
	</target>	

	
	<target name="checkout" depends="makedirs" >
			
		<svn>
							<checkout url="https://comp405.googlecode.com/svn/trunk/" revision="HEAD" destPath="./MyTime/src" />
						</svn>
		
	</target>
		<target name="makedirs" depends = "clean">
			<mkdir dir="./MyTime/src" />
			<mkdir dir="./MyTime/bin" />
			<mkdir dir="./MyTime/javadoc" />
		</target> 
	
	<target name="clean">
					<delete dir="./MyTime/javadoc/"/>
					<delete dir="./MyTime/bin/"/>
					<delete dir="./MyTime/src/"/>
					<delete dir="./MyTime/dist/"/>
				</target>
			
	
</project>
